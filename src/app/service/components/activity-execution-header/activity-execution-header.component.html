<main class="container">
  <section class="tasks">
    <ul class="options">
      @for (task of tasks(); track task.id; let idx = $index){
        <li class="option">
          <button
            mat-button
            [class.selected]="task.id === selectedTask()?.id"
            (click)="onTaskSelected(task)"
          >Task {{idx + 1}}</button>
        </li>
      }
    </ul>
    <section class="tasks-options">
      <div class="options-header">
        <ul class="options">
          @for (option of options(); track option){
            <li class="option">
              <button
                mat-button
                [class.selected]="option === selectedOption()"
                (click)="onOptionSelected(option)"
              >{{option}}</button>
            </li>
          }
        </ul>
        <button mat-button (click)="onFinishTask()">Finish</button>
      </div>
      <section class="option-content">
        <app-activity-requests
          [hidden]="selectedOption() === options()[1]"
          [taskSelectedId]="selectedTask().id"
          [interventionId]="interventionId()"
        />
        <app-activity-tracking
          [hidden]="selectedOption() === options()[0]"
          [taskSelectedId]="selectedTask().id"
          [interventionId]="interventionId()"
        />
      </section>
    </section>
  </section>
</main>
